(function(t){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(i=!1)}i&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},r={app:0},n=[];function o(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d22a13c":"02085cc2","chunk-2d23716e":"b338f6d4"}[t]+".js"}function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=r[t]=[e,i]}));e.push(a[2]=i);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(t);var c=new Error;n=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",c.name="ChunkLoadError",c.type=i,c.request=n,a[1](c)}r[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2395:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i,r=a("2b0e"),n=a("5c96"),o=a.n(n),s=(a("0fae"),a("bc3a")),l=a.n(s);function c(){i=n["Loading"].service({lock:!0,text:"拼命加载中",background:"rgba(0, 0, 0, .5)"})}function u(){i.close()}l.a.defaults.baseURL="https://mallapi.duyiedu.com",l.a.interceptors.request.use((function(t){return c(),t})),l.a.interceptors.response.use((function(t){return setTimeout((function(){u()}),300),t.data}));var d=l.a,m=a("9884"),f=a.n(m),h=a("313e"),p=a.n(h),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},b=[],v=(a("7c55"),a("2877")),_={},w=Object(v["a"])(_,g,b,!1,null,null,null),y=w.exports,x=(a("b0c0"),a("d3b7"),a("8c4f")),S=a("ade3"),D=a("2f62"),E=(a("4160"),a("4fad"),a("159b"),a("a78e")),k=a.n(E),$=["username","email","role","appkey"];function C(t){var e=Object.entries(t);e.forEach((function(t){k.a.set(t[0],t[1])}))}function O(){var t={};return $.forEach((function(e){t[e]=k.a.get(e)})),t}function T(){$.forEach((function(t){k.a.remove(t)}))}var L,P={SET_USER_INFO:"SET_USER_INFO",LOGOUT:"LOGOUT",SET_ROUTES:"SET_ROUTES",SET_BREADCRUMB:"SET_BREADCRUMB"},j=P;r["default"].use(D["a"]);var I=new D["a"].Store({state:{userInfo:O(),routesList:[],crumbData:[{title:"首页",path:"/home"}]},mutations:(L={},Object(S["a"])(L,j.SET_USER_INFO,(function(t,e){t.userInfo=e})),Object(S["a"])(L,j.LOGOUT,(function(t){t.userInfo={username:"",appkey:"",email:"",role:""}})),Object(S["a"])(L,j.SET_ROUTES,(function(t,e){t.routesList=e})),Object(S["a"])(L,j.SET_BREADCRUMB,(function(t,e){t.crumbData=[e]})),L),actions:{setUserCookie:function(t,e){var a=t.commit;a(j.SET_USER_INFO,e),C(e)},logout:function(t){var e=t.commit;e(j.LOGOUT),T()},setRoutes:function(t,e){var a=t.commit;a(j.SET_ROUTES,e)},setCrumbData:function(t,e){var a=t.commit;a(j.SET_BREADCRUMB,e)}},modules:{}}),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"login_user",staticClass:"demo-ruleForm form-container",attrs:{model:t.login_user,"status-icon":"",rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"input-size",attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},model:{value:t.login_user.username,callback:function(e){t.$set(t.login_user,"username",e)},expression:"login_user.username"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"input-size",attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:t.login_user.password,callback:function(e){t.$set(t.login_user,"password",e)},expression:"login_user.password"}})],1)],1)],1),a("el-row",{staticClass:"btn-container"},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"success",icon:"el-icon-s-promotion"},on:{click:function(e){return t.submitForm("login_user")}}},[t._v("登录")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleToRegister}},[t._v("注册")])],1)],1)],1)],1)},A=[],G=(a("a623"),a("4d63"),a("ac1f"),a("25f0"),{name:"Login",data:function(){var t=function(t,e,a){""===e?a(new Error("密码不能为空")):a()},e=function(t,e,a){if(""===e)a(new Error("邮箱不能为空！"));else{var i=new RegExp("^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$"),r=i.test(e);r||a(new Error("邮箱格式不正确！")),a()}};return{login_user:{username:"xupenghui163@163.com",password:"123456"},rules:{password:[{validator:t,trigger:"blur"}],username:[{validator:e,trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){return!!t&&(e.$axios("/passport/login",{method:"post",data:{email:e.login_user.username,password:e.login_user.password}}).then((function(t){"success"===t.status&&(e.$store.dispatch("setUserCookie",t.data),setTimeout((function(){e.$message({showClose:!0,message:t.msg,type:"success"})}),500),setTimeout((function(){var t=e.$router.matcher.getRoutes().every((function(t){return"Index"!==t.name}));t&&e.$router.push("/index"),e.$router.push("/index")}),1e3))})),!0)}))},handleToRegister:function(){this.$router.push("/register")}}}),W=G,V=Object(v["a"])(W,R,A,!1,null,null,null),z=V.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("SiderBar"),a("div",{staticClass:"main-container"},[a("router-view")],1)],1)},U=[],F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header-container"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-breadcrumb",{staticClass:"bt",attrs:{"separator-class":"el-icon-arrow-right"}},[t._l(this.$store.state.crumbData,(function(e){return[""!==e.superior&&e.superior?a("el-breadcrumb-item",{key:e.name,attrs:{to:e.path}},[t._v(" "+t._s(e.superior)+" ")]):t._e(),a("el-breadcrumb-item",{key:e.title,attrs:{to:e.path}},[t._v(" "+t._s(e.title)+" ")])]}))],2)],1),a("el-col",{attrs:{span:12}},[a("div",[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"}},[a("el-submenu",{staticClass:"user-box",attrs:{index:"1"}},[a("template",{slot:"title"},[t._v(t._s(this.$store.state.userInfo.username))]),a("el-menu-item",{attrs:{index:"1-1"}},[t._v("个人中心")]),a("el-menu-item",{attrs:{index:"1-2"},on:{click:t.handleRemove}},[t._v("退出")])],2)],1)],1)])],1)],1)},M=[],B={name:"Header",data:function(){return{activeIndex:"1"}},methods:{handleRemove:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}},N=B,X=Object(v["a"])(N,F,M,!1,null,null,null),Z=X.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sider-bar-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeIndex}},[t._l(this.noChild,(function(e){return[a("el-menu-item",{key:e.name,attrs:{index:e.meta.index}},[a("router-link",{attrs:{to:e.path,tag:"li"}},[a("i",{class:e.meta.icon}),a("span",{on:{click:function(a){return t.handleCurData({title:e.name,path:e.path,superior:e.meta.superior})}}},[t._v(t._s(e.name))])])],1)]})),t._l(this.haveChild,(function(e){return a("el-submenu",{key:e.name,attrs:{index:e.meta.index}},[a("template",{slot:"title"},[a("i",{class:e.meta.icon}),a("span",[t._v(t._s(e.meta.title))])]),t._l(e.children,(function(e){return a("el-menu-item-group",{key:e.meta.index},[a("el-menu-item",{attrs:{index:e.meta.index}},[a("router-link",{attrs:{to:e.path,tag:"li"}},[a("i",{class:e.meta.icon}),a("span",{on:{click:function(a){return t.handleCurData({title:e.meta.title,path:e.path,superior:e.meta.superior})}}},[t._v(t._s(e.meta.title))])])],1)],1)}))],2)}))],2)],1)],1)],1)},J=[],K=(a("4de4"),a("0481"),a("d81d"),a("4069"),{data:function(){return{isCollapse:!0,activeIndex:"1"}},computed:{noChild:function(){var t=this.$store.state.routesList.map((function(t){return t.children.filter((function(t){return!t.children}))}));return t.flat(1)},haveChild:function(){var t=this.$store.state.routesList.map((function(t){return t.children.filter((function(t){return!!t.children}))}));return t.flat(1)}},methods:{handleCurData:function(t){this.$store.dispatch("setCrumbData",t)}}}),Q=K,Y=Object(v["a"])(Q,q,J,!1,null,null,null),tt=Y.exports,et={name:"index",components:{Header:Z,SiderBar:tt},data:function(){return{}},methods:{}},at=et,it=Object(v["a"])(at,H,U,!1,null,null,null),rt=it.exports,nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-container"},[a("h1",{staticClass:"title"},[t._v("欢迎登陆，xxx管理系统！")])])}],st={name:"Home"},lt=st,ct=Object(v["a"])(lt,nt,ot,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card"),a("Echarts")],1)},mt=[],ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("商品总览")])]),t._l(4,(function(e){return a("div",{key:e,staticClass:"text item"},[t._v(" "+t._s("列表内容 "+e)+" ")])}))],2),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("用户总览")])]),t._l(4,(function(e){return a("div",{key:e,staticClass:"text item"},[t._v(" "+t._s("列表内容 "+e)+" ")])}))],2),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("销售总览")])]),t._l(4,(function(e){return a("div",{key:e,staticClass:"text item"},[t._v(" "+t._s("列表内容 "+e)+" ")])}))],2)],1)},ht=[],pt={name:"Card"},gt=pt,bt=Object(v["a"])(gt,ft,ht,!1,null,null,null),vt=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"echarts-container"},[a("ve-line",{attrs:{data:t.chartData,settings:t.chartSettings}})],1)},wt=[],yt={data:function(){return this.chartSettings={area:!0},{chartData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}}},xt=yt,St=Object(v["a"])(xt,_t,wt,!1,null,null,null),Dt=St.exports,Et={name:"Statistics",components:{Card:vt,Echarts:Dt}},kt=Et,$t=Object(v["a"])(kt,dt,mt,!1,null,null,null),Ct=$t.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodlist-container"},[a("div",{staticClass:"search"},[a("search-form",{attrs:{categoryData:t.categoryData},on:{"get-table-data":t.handleGetTableDate,"updata-search-word":t.handleKeyword,"updata-category":t.handleCategory,"updata-page":t.handlePage,"get-total-count":t.handleGetTotalData}}),a("el-button",{staticClass:"addBtn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.handleAddShow}},[t._v("添加商品")])],1),a("product-table",{attrs:{productData:t.productData,categoryData:t.categoryData},on:{"get-table-data":t.handleGetTableDate}}),a("page",{attrs:{totalPageCount:t.totalPageCount,currentPage:t.page},on:{"updata-page":t.handlePage,"update-current-page":t.handleCurrentPage,"get-table-data":t.handleGetTableDate}}),a("DialogAdd",{attrs:{categoryData:t.categoryData,dialogAddSwitch:t.dialogAddSwitch},on:{hide:t.handleAddHide,"get-table-data":t.handleGetTableDate}})],1)},Tt=[],Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"搜索关键字","label-width":"auto"}},[a("el-input",{attrs:{placeholder:"搜索关键字",size:"mini"},model:{value:t.formInline.keyword,callback:function(e){t.$set(t.formInline,"keyword",e)},expression:"formInline.keyword"}})],1),a("el-form-item",{attrs:{label:"商品类目","label-width":"auto"}},[a("el-select",{attrs:{placeholder:"商品类目",size:"mini"},model:{value:t.formInline.category,callback:function(e){t.$set(t.formInline,"category",e)},expression:"formInline.category"}},t._l(this.categoryData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1)},Pt=[],jt={props:["categoryData"],data:function(){return{formInline:{keyword:"",category:""}}},created:function(){},methods:{onSubmit:function(){this.$emit("updata-search-word",this.formInline.keyword),this.$emit("updata-category",this.formInline.category),this.$emit("updata-page",1),this.$emit("get-total-count"),this.$emit("get-table-data")}}},It=jt,Rt=Object(v["a"])(It,Lt,Pt,!1,null,null,null),At=Rt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-container"},[""!==t.productData?[a("el-table",{staticStyle:{width:"100%"},attrs:{fixed:"",data:t.productData,"max-height":"600px"}},[a("el-table-column",{attrs:{label:"id"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.id))])]}}],null,!1,3454813385)}),a("el-table-column",{attrs:{label:"标题",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.title))])]}}],null,!1,1398263620)}),a("el-table-column",{attrs:{label:"描述",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.desc))])]}}],null,!1,3141800277)}),a("el-table-column",{attrs:{label:"类目"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.category))])]}}],null,!1,3950012628)}),a("el-table-column",{attrs:{label:"预售价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.price))])]}}],null,!1,3957024393)}),a("el-table-column",{attrs:{label:"折扣价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.price_off?e.row.price_off:"/"))])]}}],null,!1,2499512718)}),a("el-table-column",{attrs:{label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.tags[0]))])]}}],null,!1,2498188723)}),a("el-table-column",{attrs:{label:"限制购买数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.inventory))])]}}],null,!1,1658199438)}),a("el-table-column",{attrs:{label:"上架状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(1===e.row.status?"上架":"下架"))])]}}],null,!1,1067856344)}),a("el-table-column",{attrs:{fixed:"right",width:"145",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}],null,!1,1249903975)})],1)]:t._e(),a("DialogEdit",{attrs:{dialogEditSwitch:t.dialogEditSwitch,diglogEditData:t.diglogEditData,categoryData:t.categoryData},on:{hide:t.handleEditHide,"get-table-data":t.handleGetTableDate}}),a("DialogDelete",{attrs:{diglogDeleteData:t.diglogDeleteData,dialogDeleteSwitch:t.dialogDeleteSwitch},on:{hide:t.handleDeleteHide,"get-table-data":t.handleGetTableDate}})],2)},Wt=[],Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-container"},[a("el-dialog",{attrs:{title:"编辑",visible:t.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"描述","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:"预售价格","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"折扣价格","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.price_off,callback:function(e){t.$set(t.form,"price_off",e)},expression:"form.price_off"}})],1),a("el-form-item",{attrs:{label:"标签","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.tags[0],callback:function(e){t.$set(t.form.tags,0,e)},expression:"form.tags[0]"}})],1),a("el-form-item",{attrs:{label:"限制购买数量","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.inventory,callback:function(e){t.$set(t.form,"inventory",e)},expression:"form.inventory"}})],1),a("el-form-item",{attrs:{label:"上架状态","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.$emit("hide")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)],1)},zt=[],Ht=(a("45fc"),{props:["dialogEditSwitch","diglogEditData","categoryData"],data:function(){return{dialogFormVisible:!1,form:{title:"",price:"",price_off:"",inventory:"",tags:[],desc:"",status:""},formLabelWidth:"120px"}},watch:{dialogEditSwitch:function(){this.dialogEditSwitch?(this.dialogFormVisible=!0,this.form.title=this.diglogEditData.title,this.form.desc=this.diglogEditData.desc,this.form.price=this.diglogEditData.price,this.form.price_off=this.diglogEditData.price_off?this.diglogEditData.price_off:"/",this.form.tags=this.diglogEditData.tags,this.form.inventory=this.diglogEditData.inventory,this.form.status=1===this.diglogEditData.status?"上架":"下架"):this.dialogFormVisible=!1},dialogFormVisible:function(){this.dialogFormVisible||this.$emit("hide")}},methods:{handleSubmit:function(){var t=this;this.$emit("hide"),this.categoryData.some((function(e){if(e.name===t.diglogEditData.category)return t.diglogEditData.category=e.id,!0})),this.$axios("/products/edit",{method:"put",data:{appkey:"Mr_Xu_Peng_Hui_1612743894720",id:this.diglogEditData.id,title:this.form.title,desc:this.form.desc,category:this.diglogEditData.category,c_item:this.diglogEditData.c_item,tags:this.form.tags,price:this.form.price,price_off:"/"===this.form.price_off?"":this.form.price_off,unit:this.diglogEditData.unit,status:"上架"===this.form.status?1:0,images:this.diglogEditData.images,inventory:this.form.inventory,sale:this.diglogEditData.sale,_id:this.diglogEditData._id}}).then((function(e){"success"===e.status?(t.$message({message:"修改成功",type:"success"}),t.$emit("get-table-data")):t.$message({message:"修改失败",type:"warning"})}))},handleGetCategoryData:function(){var t=this;this.$axios("/category/all",{method:"get",params:{appkey:"Mr_Xu_Peng_Hui_1612743894720"}}).then((function(e){t.categoryData=e.data.data}))}}}),Ut=Ht,Ft=Object(v["a"])(Ut,Vt,zt,!1,null,null,null),Mt=Ft.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popover-container"},[a("el-dialog",{attrs:{title:"提示",visible:t.centerDialogVisible,"append-to-body":!0,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("span",[t._v("您确定删除此项数据吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)])],1)},Nt=[],Xt={props:["dialogDeleteSwitch","diglogDeleteData"],data:function(){return{centerDialogVisible:!1}},watch:{dialogDeleteSwitch:function(){this.dialogDeleteSwitch?this.centerDialogVisible=!0:this.centerDialogVisible=!1},centerDialogVisible:function(){this.centerDialogVisible||this.$emit("hide")}},methods:{handleSubmit:function(){var t=this;this.$emit("hide"),this.$axios("/products/".concat(this.diglogDeleteData.id),{method:"delete",data:{appkey:"Mr_Xu_Peng_Hui_1612743894720"}}).then((function(e){"success"===e.status?(t.$message({message:"删除成功",type:"success"}),t.$emit("get-table-data")):t.$message({message:"删除失败",type:"warning"})}))}}},Zt=Xt,qt=Object(v["a"])(Zt,Bt,Nt,!1,null,null,null),Jt=qt.exports,Kt={props:["productData","categoryData"],components:{DialogEdit:Mt,DialogDelete:Jt},data:function(){return{dialogEditSwitch:!1,dialogDeleteSwitch:!1,diglogEditData:[],diglogDeleteData:[]}},methods:{handleGetTableDate:function(){this.$emit("get-table-data")},handleEditHide:function(){this.dialogEditSwitch=!1},handleEditShow:function(){this.dialogEditSwitch=!0},handleDeleteHide:function(){this.dialogDeleteSwitch=!1},handleDeleteShow:function(){this.dialogDeleteSwitch=!0},handleEdit:function(t,e){this.diglogEditData=e,this.handleEditShow()},handleDelete:function(t,e){this.diglogDeleteData=e,this.handleDeleteShow()}}},Qt=Kt,Yt=Object(v["a"])(Qt,Gt,Wt,!1,null,null,null),te=Yt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalPageCount,"current-page":t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}})],1)},ae=[],ie={name:"Page",props:["totalPageCount"],data:function(){return{currentPage:1}},created:function(){},methods:{handleCurrentChange:function(){this.$emit("updata-page",this.currentPage),this.$emit("get-table-data")}}},re=ie,ne=Object(v["a"])(re,ee,ae,!1,null,null,null),oe=ne.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-container"},[a("el-dialog",{attrs:{title:"添加商品",visible:t.centerDialogVisible,"append-to-body":!0,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[a("el-step",{attrs:{title:"步骤 1"}}),a("el-step",{attrs:{title:"步骤 2"}}),a("el-step",{attrs:{title:"步骤 3"}})],1),a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.form}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.stepSwitch[0],expression:"stepSwitch[0]"}]},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"描述","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:"商品类目","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择商品类目"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},[a("el-option",{attrs:{label:"请选择商品类目",value:"请选择商品类目",disabled:""}}),t._l(t.categoryData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],2)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.stepSwitch[1],expression:"stepSwitch[1]"}]},[a("el-form-item",{attrs:{label:"预售价格","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"折扣价格","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.price_off,callback:function(e){t.$set(t.form,"price_off",e)},expression:"form.price_off"}})],1),a("el-form-item",{attrs:{label:"商品单位","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.stepSwitch[2],expression:"stepSwitch[2]"}]},[a("el-form-item",{attrs:{label:"标签","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.tags[0],callback:function(e){t.$set(t.form.tags,0,e)},expression:"form.tags[0]"}})],1),a("el-form-item",{attrs:{label:"限制购买数量","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.inventory,callback:function(e){t.$set(t.form,"inventory",e)},expression:"form.inventory"}})],1),a("el-form-item",{attrs:{label:"上架状态","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择上架状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{label:"请选择上架状态",value:"请选择上架状态",disabled:""}}),a("el-option",{attrs:{label:"上架",value:1}}),a("el-option",{attrs:{label:"下架",value:0}})],1)],1)],1)]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.btnShow[0],expression:"btnShow[0]"}],staticStyle:{"margin-top":"12px"},on:{click:t.prev}},[t._v("上一步")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.btnShow[1],expression:"btnShow[1]"}],staticStyle:{"margin-top":"12px"},on:{click:t.next}},[t._v("下一步")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.init}},[t._v("取 消")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.btnShow[1],expression:"!btnShow[1]"}],attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},le=[],ce={props:["categoryData","dialogAddSwitch"],data:function(){return{stepSwitch:[!0,!1,!1],centerDialogVisible:!1,active:0,btnShow:[!1,!0],form:{title:"",price:"",price_off:"",inventory:"",tags:[],desc:"",status:"",unit:"",category:""},formLabelWidth:"120px"}},watch:{dialogAddSwitch:function(){this.dialogAddSwitch?this.centerDialogVisible=!0:this.centerDialogVisible=!1},centerDialogVisible:function(){this.centerDialogVisible||(this.init(),this.$emit("hide"))}},methods:{next:function(){this.stepSwitch=this.stepSwitch.map((function(t){return!1})),this.active++,this.stepSwitch[this.active]=!0,this.active>=0&&(this.btnShow[0]=!0),this.active>2&&(this.stepSwitch[2]=!0,this.btnShow[1]=!1)},prev:function(){if(this.stepSwitch=this.stepSwitch.map((function(t){return!1})),this.active--,this.stepSwitch[this.active]=!0,this.active>=0&&(this.btnShow[1]=!0),this.active<=0)return this.stepSwitch[0]=!0,void(this.btnShow[0]=!1)},init:function(){this.$emit("hide"),this.active=0,this.btnShow=[!1,!0],this.stepSwitch=[!0,!1,!1],this.form.title="",this.form.price="",this.form.price_off="",this.form.inventory="",this.form.tags="",this.form.desc="",this.form.status="",this.form.unit="",this.form.category=""},onSubmit:function(){var t=this;this.$axios("/products/add",{method:"post",data:{appkey:"Mr_Xu_Peng_Hui_1612743894720",title:this.form.title,price:this.form.price,price_off:this.form.price_off,inventory:this.form.inventory,tags:this.form.tags,desc:this.form.desc,status:this.form.status,unit:this.form.unit,category:this.form.category,images:["https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/丰水梨5金装.jpg","http://duyi-bucket.oss-cn-beijing.aliyuncs.com/mall-admin/images/%E9%BB%84%E6%A8%B1%E6%A1%831593413677378.jpg"]}}).then((function(e){"success"===e.status?t.$message({message:"添加成功",type:"success"}):t.$message.error(e.msg)})),this.init(),this.$emit("get-table-data")}}},ue=ce,de=(a("ed29"),Object(v["a"])(ue,se,le,!1,null,"ece1fc2a",null)),me=de.exports,fe={name:"GoodLists",data:function(){return{dialogAddSwitch:!1,productData:"",totalPageCount:0,appkey:"Mr_Xu_Peng_Hui_1612743894720",page:1,size:10,searchWord:"",category:"",categoryData:[]}},components:{SearchForm:At,ProductTable:te,Page:oe,DialogAdd:me},created:function(){this.handleGetTableDate(),this.handleGetTotalData(),this.handleGetCategoryData()},methods:{handleAddHide:function(){this.dialogAddSwitch=!1},handleAddShow:function(){this.dialogAddSwitch=!0},handleKeyword:function(t){this.searchWord=t},handleCategory:function(t){this.category=t},handlePage:function(t){this.page=t},handleCurrentPage:function(t){this.page=t},handleGetTotalData:function(){var t=this;this.$axios("/products/all",{method:"get",params:{appkey:this.appkey,searchWord:this.searchWord,category:this.category}}).then((function(e){t.totalPageCount=e.data.data.length}))},handleGetCategoryData:function(){var t=this;this.$axios("/category/all",{method:"get",params:{appkey:"Mr_Xu_Peng_Hui_1612743894720"}}).then((function(e){t.categoryData=e.data.data}))},handleGetTableDate:function(){var t=this;this.$axios("/products/all",{method:"get",params:{appkey:this.appkey,page:this.page,size:10,searchWord:this.searchWord,category:this.category}}).then((function(e){var a=e.data.data.map((function(e){return t.categoryData.forEach((function(t){t.id===e.category&&(e.category=t.name)})),e}));t.productData=a}))}}},he=fe,pe=Object(v["a"])(he,Ot,Tt,!1,null,null,null),ge=pe.exports,be=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ve=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"not-found-container"},[i("img",{attrs:{src:a("ba72")}})])}],_e={},we=_e,ye=Object(v["a"])(we,be,ve,!1,null,null,null),xe=ye.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register-container"},[a("el-form",{ref:"register_user",staticClass:"demo-ruleForm form-container",attrs:{model:t.register_user,"status-icon":"",rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"input-size",attrs:{prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:t.register_user.email,callback:function(e){t.$set(t.register_user,"email",e)},expression:"register_user.email"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"input-size",attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",clearable:""},model:{value:t.register_user.password,callback:function(e){t.$set(t.register_user,"password",e)},expression:"register_user.password"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"input-size",attrs:{prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.register_user.code,callback:function(e){t.$set(t.register_user,"code",t._n(e))},expression:"register_user.code"}},[a("div",{attrs:{slot:"append"},on:{click:t.handleGetCode},slot:"append"},[t._v(" "+t._s(t.codeShow)+" ")])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"input-size",attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},model:{value:t.register_user.username,callback:function(e){t.$set(t.register_user,"username",e)},expression:"register_user.username"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-select",{staticClass:"input-size",attrs:{placeholder:"请选择用户类型"},model:{value:t.register_user.role,callback:function(e){t.$set(t.register_user,"role",e)},expression:"register_user.role"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-row",{staticClass:"btn-container"},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"success",icon:"el-icon-s-promotion",loading:t.loadSwitch},on:{click:function(e){return t.submitForm("register_user")}}},[t._v("注册")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleReturnLogin}},[t._v("返回")])],1)],1)],1)],1)},De=[],Ee={name:"Login",data:function(){var t=function(t,e,a){if(""===e)a(new Error("邮箱不能为空！"));else{var i=new RegExp("^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$"),r=i.test(e);r?a():a(new Error("邮箱格式不正确！"))}},e=function(t,e,a){""===e?a(new Error("请输入验证码！")):a()},a=function(t,e,a){""===e?a(new Error("请输入用户名")):a()},i=function(t,e,a){""===e?a(new Error("密码不能为空")):a()};return{codeShow:"获取验证码",register_user:{email:"",code:"",role:"",username:"",password:""},rules:{email:[{validator:t,trigger:"blur"}],code:[{validator:e,trigger:"blur"}],username:[{validator:a,trigger:"blur"}],password:[{validator:i,trigger:"blur"}]},loadSwitch:!1,options:[{value:"customer",label:"普通用户"},{value:"admin",label:"管理员用户"}]}},methods:{handleReturnLogin:function(){this.$router.push("login")},handle:function(){var t=this;clearInterval(this.timer);var e=60;this.timer=setInterval((function(){t.codeShow="".concat(e,"秒后重试"),e-=1,e<0&&(clearInterval(t.timer),t.codeShow="获取验证码")}),1e3)},handleGetCode:function(){this.handle(),this.$axios({method:"post",url:"/passport/getCode",data:{email:this.register_user.email}})},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){return!!t&&(e.$axios({method:"post",url:"/passport/logon",data:{appkey:"Mr_Xu_Peng_Hui_1612743894720",email:e.register_user.email,code:e.register_user.code,password:e.register_user.password,username:e.register_user.username,role:e.register_user.role}}).then((function(t){"fail"===t.status&&setTimeout((function(){e.$message.error(t.msg)}),300),"success"===t.status&&setTimeout((function(){e.$message.error(t.msg)}),300)})),!0)}))}}},ke=Ee,$e=Object(v["a"])(ke,Se,De,!1,null,null,null),Ce=$e.exports,Oe=(a("c975"),{coustomer:[{name:"Index"},{name:"Home"},{name:"Product"},{name:"Statistics"},{name:"GoodList"}],admin:[{name:"Index"},{name:"Home"},{name:"Product"},{name:"Statistics"},{name:"GoodList"},{name:"AddList"}]}),Te=function(t,e){var a=Oe[t].map((function(t){return t.name})),i=e.filter((function(t){var e=t;if(-1!==a.indexOf(t.name)){var i=t.children;return i&&(e.children=i.filter((function(t){return-1!==a.indexOf(t.name)})),i.forEach((function(t){if(t.children){var e=t.children;t.children=e.filter((function(t){return-1!==a.indexOf(t.name)}))}}))),!0}return!1}));return i};r["default"].use(x["a"]);var Le=[{path:"/index",name:"Index",redirect:"/home",component:rt,children:[{path:"/home",name:"Home",meta:{title:"首页",hidden:!0,index:"1",icon:"el-icon-menu"},component:ut},{path:"/statistics",name:"Statistics",meta:{title:"统计",hidden:!0,index:"2",icon:"el-icon-edit-outline"},component:Ct},{path:"/product",name:"Product",meta:{title:"商品",hidden:!0,index:"3",icon:"el-icon-goods"},component:function(){return a.e("chunk-2d22a13c").then(a.bind(null,"dfbf"))},children:[{path:"/goodlist",name:"GoodList",meta:{title:"商品列表",hidden:!0,index:"3-1",icon:"el-icon-tickets",superior:"商品"},component:ge},{path:"/addgood",name:"AddList",component:function(){return a.e("chunk-2d23716e").then(a.bind(null,"fa41"))},meta:{title:"添加商品",hidden:!0,index:"3-2",icon:"el-icon-edit",superior:"商品"}}]}]}],Pe=[{path:"/",meta:{hidden:!1},redirect:"/login"},{path:"/login",name:"Login",meta:{hidden:!1},component:z},{path:"/register",name:"Register",meta:{hidden:!1},component:Ce},{path:"/notfound",name:"notfound",meta:{hidden:!1},component:xe},{path:"*",meta:{hidden:!1},component:xe}],je=x["a"].prototype.push;x["a"].prototype.push=function(t){return je.call(this,t).catch((function(t){return t}))};var Ie=new x["a"]({routes:Pe}),Re=!1;Ie.beforeEach((function(t,e,a){if("/login"!==t.path&&"/register"!==t.path){if(I.state.userInfo.appkey){if(!Re){var i=Te(I.state.userInfo.role,Le);if(Ie.addRoutes(i),I.dispatch("setRoutes",i),Re=!0,!e.name)return a(t)}return a()}return a("/login")}return a()}));var Ae=Ie;r["default"].config.productionTip=!1,r["default"].use(o.a),r["default"].use(f.a),r["default"].prototype.$axios=d,r["default"].prototype.$echarts=p.a,new r["default"]({router:Ae,store:I,render:function(t){return t(y)}}).$mount("#app")},"7c55":function(t,e,a){"use strict";a("2395")},8114:function(t,e,a){},ba72:function(t,e,a){t.exports=a.p+"img/404.6b8ae1d0.gif"},ed29:function(t,e,a){"use strict";a("8114")}});
//# sourceMappingURL=app.540bd0d6.js.map